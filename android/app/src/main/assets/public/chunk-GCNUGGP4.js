import{a as j}from"./chunk-UX4CHBK3.js";import{a as W,g as q,i as G}from"./chunk-UW2KWLOS.js";import{D as U,F as V,L as v,M as F,N as M,S as N,_ as k,a as h,aa as P,d as f,e as I,f as w,g as T,h as C,i as A,j as b,k as m,ka as x,l,la as H,m as _,n as L,o as d,p as y,s as g,v as B,w as R,x as D}from"./chunk-Y6QZKZP2.js";import{e as r}from"./chunk-JHI3MBHO.js";var Z=(e=>(e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e))(Z||{}),c=(e=>(e[e.PAGE_SHEET=0]="PAGE_SHEET",e[e.FORM_SHEET=1]="FORM_SHEET",e[e.FULL_SCREEN=2]="FULL_SCREEN",e))(c||{}),u=(e=>(e[e.BOTTOM_SHEET=0]="BOTTOM_SHEET",e[e.FULL_SCREEN=1]="FULL_SCREEN",e))(u||{}),p=(e=>(e[e.FLIP_HORIZONTAL=0]="FLIP_HORIZONTAL",e[e.CROSS_DISSOLVE=1]="CROSS_DISSOLVE",e[e.COVER_VERTICAL=2]="COVER_VERTICAL",e))(p||{}),s=(e=>(e[e.FADE_IN=0]="FADE_IN",e[e.FADE_OUT=1]="FADE_OUT",e[e.SLIDE_IN_LEFT=2]="SLIDE_IN_LEFT",e[e.SLIDE_OUT_RIGHT=3]="SLIDE_OUT_RIGHT",e))(s||{}),E=(e=>(e[e.CLOSE=0]="CLOSE",e[e.CANCEL=1]="CANCEL",e[e.DONE=2]="DONE",e))(E||{}),Q={allowZoom:!1,hardwareBack:!0,pauseMedia:!0},X={allowOverScroll:!0,enableViewportScale:!1,allowInLineMediaPlayback:!1,surpressIncrementalRendering:!1,viewStyle:c.FULL_SCREEN,animationEffect:p.COVER_VERTICAL,allowsBackForwardNavigationGestures:!0},z={showToolbar:!0,showURL:!0,clearCache:!0,clearSessionCache:!0,mediaPlaybackRequiresUserAction:!1,closeButtonText:"Close",toolbarPosition:Z.TOP,showNavigationButtons:!0,leftToRight:!1,customWebViewUserAgent:null,android:Q,iOS:X},te={closeButtonText:E.DONE,viewStyle:c.FULL_SCREEN,animationEffect:p.COVER_VERTICAL,enableBarsCollapsing:!0,enableReadersMode:!1},ne={showTitle:!1,hideToolbarOnScroll:!1,viewStyle:u.BOTTOM_SHEET,startAnimation:s.FADE_IN,exitAnimation:s.FADE_OUT};var a=j("InAppBrowser",{web:()=>import("./chunk-OWPGKIZE.js").then(e=>new e.InAppBrowserWeb)});var J=(()=>{let n=class n{constructor(){}openLinkInApp(o){return r(this,null,function*(){if(!o){console.error("URL is required.");return}try{yield a.openInSystemBrowser({url:o,options:{android:{showTitle:!0,hideToolbarOnScroll:!1,viewStyle:u.BOTTOM_SHEET,bottomSheetOptions:{isFixed:!1,height:500},startAnimation:s.FADE_IN,exitAnimation:s.FADE_OUT},iOS:{closeButtonText:E.DONE,viewStyle:c.PAGE_SHEET,animationEffect:p.COVER_VERTICAL,enableBarsCollapsing:!1,enableReadersMode:!1}}})}catch(t){console.error("Could not open InAppBrowser:",t),window.open(o,"_system")}})}openInWebView(o){return r(this,null,function*(){if(!o){console.error("URL is required.");return}try{yield a.openInWebView({url:o,options:z})}catch(t){console.error("Could not open WebView:",t)}})}close(){return r(this,null,function*(){try{yield a.close()}catch(o){console.error("Could not close browser:",o)}})}addListener(o,t){return r(this,null,function*(){return yield a.addListener(o,t)})}removeAllListeners(){return r(this,null,function*(){yield a.removeAllListeners()})}};n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h({token:n,factory:n.\u0275fac,providedIn:"root"});let e=n;return e})();function ee(e,n){if(e&1){let K=L();m(0,"div",6)(1,"ion-button",7),d("click",function(){f(K);let t=y();return I(t.closeBrowser())}),_(2,"ion-icon",8),g(3," Close Browser "),l()()}}var Ee=(()=>{let n=class n{constructor(o){this.iab=o,this.initialUrl="",this.searchUrl="",this.isBrowserOpen=!1,W({searchOutline:G,closeCircleOutline:q})}ngOnInit(){this.initialUrl&&(this.searchUrl=this.initialUrl),this.iab.addListener("browserClosed",()=>{console.log("Browser closed event received"),this.isBrowserOpen=!1})}ngOnDestroy(){this.iab.removeAllListeners()}search(){if(!this.searchUrl)return;let t=`https://www.google.com/search?q=${encodeURIComponent(this.searchUrl)}`;this.isBrowserOpen=!0,this.iab.openInWebView(t)}closeBrowser(){this.iab.close(),this.isBrowserOpen=!1}};n.\u0275fac=function(t){return new(t||n)(T(J))},n.\u0275cmp=C({type:n,selectors:[["app-in-app-search"]],inputs:{initialUrl:"initialUrl"},decls:6,vars:2,consts:[["lines","none",1,"search-container"],[1,"search-input-item"],["label","Search Google","labelPlacement","floating","placeholder","Type your query...",3,"ngModelChange","keyup.enter","ngModel"],["slot","end","fill","clear",3,"click"],["name","search-outline"],["class","browser-controls",4,"ngIf"],[1,"browser-controls"],["expand","block","color","danger",3,"click"],["name","close-circle-outline","slot","start"]],template:function(t,i){t&1&&(m(0,"ion-list",0)(1,"ion-item",1)(2,"ion-input",2),D("ngModelChange",function(O){return R(i.searchUrl,O)||(i.searchUrl=O),O}),d("keyup.enter",function(){return i.search()}),l(),m(3,"ion-button",3),d("click",function(){return i.search()}),_(4,"ion-icon",4),l()(),A(5,ee,4,0,"div",5),l()),t&2&&(w(2),B("ngModel",i.searchUrl),w(3),b("ngIf",i.isBrowserOpen))},dependencies:[V,U,M,v,F,N,x,H,k,P],styles:[".search-container[_ngcontent-%COMP%]{background:transparent;padding:0}.search-input-item[_ngcontent-%COMP%]{--background: var(--ion-color-light);border-radius:8px;margin-bottom:10px}.browser-controls[_ngcontent-%COMP%]{margin-top:10px}"]});let e=n;return e})();export{Ee as a};
